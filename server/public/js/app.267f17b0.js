(function(t){function e(e){for(var a,o,l=e[0],i=e[1],c=e[2],d=0,p=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,l=1;l<r.length;l++){var i=r[l];0!==s[i]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},s={app:0},n=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=i;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("Header"),r("v-content",{staticClass:"pt-6"},[r("router-view")],1)],1)},n=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app-bar",{attrs:{color:"primary",dark:""}},[r("v-toolbar-title",[t._v("Troopers")]),r("v-spacer"),t.$store.state.isLoggedIn?t._e():r("v-btn",{staticClass:"mr-5 cyan",on:{click:function(e){return t.$router.push("login")}}},[t._v("Login")]),t.$store.state.isLoggedIn?t._e():r("v-btn",{staticClass:"cyan",on:{click:function(e){return t.$router.push("register")}}},[t._v("Register")]),t.$store.state.isLoggedIn?r("v-menu",{attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({attrs:{icon:""}},a),[r("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!1,2097855828)},[r("v-list",[r("v-list-item",{on:{click:function(e){return t.$router.push("profile")}}},[r("v-list-item-title",[t._v("My profile")])],1),r("v-list-item",{on:{click:function(e){return t.$router.push("users")}}},[r("v-list-item-title",[t._v("Users")])],1),r("v-list-item",{on:{click:function(e){return t.logout()}}},[r("v-list-item-title",[t._v("Logout")])],1)],1)],1):t._e()],1)],1)},l=[],i={methods:{logout:function(){this.$store.dispatch("setToken",null),this.$router.push({name:"login"})}}},c=i,u=r("2877"),d=r("6544"),p=r.n(d),f=r("40dc"),v=r("8336"),m=r("132d"),b=r("8860"),g=r("da13"),h=r("5d23"),_=r("e449"),x=r("2fa4"),w=r("2a7f"),C=Object(u["a"])(c,o,l,!1,null,"7c75257c",null),k=C.exports;p()(C,{VAppBar:f["a"],VBtn:v["a"],VIcon:m["a"],VList:b["a"],VListItem:g["a"],VListItemTitle:h["b"],VMenu:_["a"],VSpacer:x["a"],VToolbarTitle:w["a"]});var V={name:"App",components:{Header:k},data:function(){return{}}},y=V,R=r("7496"),$=r("a75b"),j=Object(u["a"])(y,s,n,!1,null,null,null),O=j.exports;p()(j,{VApp:R["a"],VContent:$["a"]});var E=r("f309");a["a"].use(E["a"]);var T=new E["a"]({}),S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"mx-auto"},[r("v-row",{staticClass:"justify-center",attrs:{"no-gutters":""}},[r("v-col",{attrs:{col:"12",sm:"6",md:"5"}},[r("v-card",[r("v-card-text",[r("v-flex",[r("form",{attrs:{name:"register-form",autocomplete:"off"}},[r("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{label:"Password",type:"password",autocomplete:"new-password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-text-field",{attrs:{label:"Confirm password",type:"password",autocomplete:"confirm-new-password"},model:{value:t.confirm_password,callback:function(e){t.confirm_password=e},expression:"confirm_password"}})],1)]),t.hasError?r("v-alert",{attrs:{type:"error"}},[t._v(t._s(t.error))]):t._e()],1),r("v-card-actions",{staticClass:"flex-column"},[r("v-btn",{staticClass:"cyan",attrs:{dark:""},on:{click:function(e){return t.register()}}},[t._v("Register")]),r("p",{staticClass:"pt-3"},[t._v(" Already have an account? "),r("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)],1)],1)],1)],1)],1)},P=[],L=(r("96cf"),r("1da1")),I=r("bc3a"),A=r.n(I),D=r("2f62"),B=r("0e44");a["a"].use(D["a"]);var F=new D["a"].Store({strict:!0,plugins:[Object(B["a"])()],state:{token:null,isLoggedIn:!1,registerRedirect:!1},mutations:{setToken:function(t,e){t.token=e,t.isLoggedIn=null!==t.token},setRegisterRedirect:function(t,e){t.registerRedirect=e}},actions:{setToken:function(t,e){var r=t.commit;r("setToken",e)},setRegisterRedirect:function(t,e){var r=t.commit;r("setRegisterRedirect",e)}}}),N=function(){return A.a.create({baseURL:"/api",headers:{Authorization:"Bearer ".concat(F.state.token)}})},M={register:function(t){return N().post("/register",t)},login:function(t){return N().post("/login",t)}},U={data:function(){return{email:"",password:"",confirm_password:"",hasError:!1,error:null}},methods:{register:function(){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.register({email:t.email,password:t.password,confirm_password:t.confirm_password});case 3:r=e.sent,r.data.status?(t.hasError=!1,t.$store.dispatch("setToken",r.data.token),t.$store.dispatch("setRegisterRedirect",!0),t.$router.push("update-profile")):(t.hasError=!0,t.error=r.data.error),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},H=U,J=r("0798"),z=r("b0af"),K=r("99d9"),Y=r("62ad"),q=r("a523"),G=r("0e8f"),Q=r("0fd9"),W=r("8654"),X=Object(u["a"])(H,S,P,!1,null,"5acd94d7",null),Z=X.exports;p()(X,{VAlert:J["a"],VBtn:v["a"],VCard:z["a"],VCardActions:K["a"],VCardText:K["b"],VCol:Y["a"],VContainer:q["a"],VFlex:G["a"],VRow:Q["a"],VTextField:W["a"]});var tt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},et=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex flex-column align-center justify-center pt-10"},[r("h1",[t._v("404")]),r("h3",[t._v("Page not found")])])}],rt={},at=rt,st=Object(u["a"])(at,tt,et,!1,null,"70d2c208",null),nt=st.exports,ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"mx-auto"},[r("v-row",{staticClass:"justify-center",attrs:{"no-gutters":""}},[r("v-col",{attrs:{col:"12",sm:"6",md:"5"}},[r("v-card",[r("v-card-text",[r("v-flex",[r("form",{attrs:{name:"login-form"}},[r("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)]),t.hasError?r("v-alert",{attrs:{type:"error"}},[t._v(t._s(t.error))]):t._e()],1),r("v-card-actions",{staticClass:"flex-column"},[r("v-btn",{staticClass:"cyan",attrs:{dark:""},on:{click:function(e){return t.login()}}},[t._v("Login")]),r("p",{staticClass:"pt-3"},[t._v(" Dont have an account? "),r("router-link",{attrs:{to:"/register"}},[t._v("Register")])],1)],1)],1)],1)],1)],1)},lt=[],it={data:function(){return{email:"",password:"",hasError:!1,error:null}},methods:{login:function(){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.login({email:t.email,password:t.password});case 3:r=e.sent,r.data.status?(t.hasError=!1,t.$store.dispatch("setToken",r.data.token),t.$router.push({name:"profile"})):(t.hasError=!0,t.error=r.data.error),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},ct=it,ut=Object(u["a"])(ct,ot,lt,!1,null,"69389108",null),dt=ut.exports;p()(ut,{VAlert:J["a"],VBtn:v["a"],VCard:z["a"],VCardActions:K["a"],VCardText:K["b"],VCol:Y["a"],VContainer:q["a"],VFlex:G["a"],VRow:Q["a"],VTextField:W["a"]});var pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"mx-auto"},[r("v-row",{staticClass:"justify-center",attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[t.$store.state.registerRedirect?r("v-alert",{attrs:{dense:"",text:"",type:"success"}},[r("strong",[t._v("Your account has been created.")]),t._v(" Tell us a little more about yourself ")]):t._e(),r("v-card",[r("v-card-title",[t._v(t._s(t.$store.state.registerRedirect?"Create your profile":"Edit profile"))]),r("v-card-text",[r("form",{attrs:{name:"update-profile-form"}},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{label:"First Name"},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{label:"Last Name"},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{label:"Phone Number"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-dialog",{ref:"dialog",attrs:{"return-value":t.dob,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.dob=e},"update:return-value":function(e){t.dob=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({attrs:{label:"Date of Birth",readonly:""},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}},a))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("v-date-picker",{attrs:{scrollable:""},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.dob)}}},[t._v("OK")])],1)],1)],1)],1),r("v-textarea",{attrs:{label:"Address"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),t.hasError?r("v-alert",{attrs:{type:"error"}},[t._v(t._s(t.error))]):t._e()],1),r("v-card-actions",{staticClass:"flex-row justify-center"},[r("v-btn",{staticClass:"cyan mb-3",attrs:{dark:""},on:{click:function(e){return t.updateProfile()}}},[t._v("Save")]),t.$store.state.registerRedirect?t._e():r("v-btn",{staticClass:"cyan mb-3",attrs:{dark:""},on:{click:function(e){return t.$router.push("profile")}}},[t._v("Cancel")])],1)],1)],1)],1)],1)},ft=[],vt={updateProfile:function(t){return N().post("/update-profile",t)},profile:function(){return N().get("/profile")},users:function(){return N().get("/users")}},mt={data:function(){return{first_name:"",last_name:"",phone:"",dob:(new Date).toISOString().substr(0,10),address:"",hasError:!1,error:null,modal:!1}},methods:{updateProfile:function(){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt.updateProfile({first_name:t.first_name,last_name:t.last_name,phone:t.phone,dob:t.dob,address:t.address});case 3:r=e.sent,r.data.status?(t.hasError=!1,t.$router.push("profile")):(t.hasError=!0,t.error=r.data.error),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getProfile:function(){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt.profile();case 3:r=e.sent,r.data.data.length>0&&(a=r.data.data[0],t.first_name=a.first_name,t.last_name=a.last_name,t.phone=a.phone,t.dob=new Date(a.dob).toISOString().substr(0,10),t.address=a.address),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},mounted:function(){this.$store.state.registerRedirect||this.getProfile()}},bt=mt,gt=r("2e4b"),ht=r("169a"),_t=r("a844"),xt=Object(u["a"])(bt,pt,ft,!1,null,"0521c9ed",null),wt=xt.exports;p()(xt,{VAlert:J["a"],VBtn:v["a"],VCard:z["a"],VCardActions:K["a"],VCardText:K["b"],VCardTitle:K["c"],VCol:Y["a"],VContainer:q["a"],VDatePicker:gt["a"],VDialog:ht["a"],VRow:Q["a"],VSpacer:x["a"],VTextField:W["a"],VTextarea:_t["a"]});var Ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"mx-auto"},[r("v-row",{staticClass:"justify-center",attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"6",md:"5"}},[r("v-card",[r("v-card-title",{staticClass:"justify-space-between"},[t._v(" My profile "),r("v-btn",{attrs:{fab:"",dark:"",color:"cyan"},on:{click:function(e){return t.editProfile()}}},[r("v-icon",{attrs:{dark:""}},[t._v("mdi-pencil")])],1)],1),r("v-card-text",[r("v-row",{staticClass:"mb-3",attrs:{align:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"4",sm:"4",md:"4"}},[r("strong",{staticClass:"mr-4"},[t._v("First Name:")])]),r("v-col",{attrs:{cols:"8",sm:"8",md:"8"}},[r("strong",{staticClass:"grey--text"},[t._v(t._s(t.first_name))])])],1),r("v-row",{staticClass:"mb-3",attrs:{align:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"4",sm:"4",md:"4"}},[r("strong",{staticClass:"mr-4"},[t._v("Last Name:")])]),r("v-col",{attrs:{cols:"8",sm:"8",md:"8"}},[r("strong",{staticClass:"grey--text"},[t._v(t._s(t.last_name))])])],1),r("v-row",{staticClass:"mb-3",attrs:{align:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"4",sm:"4",md:"4"}},[r("strong",{staticClass:"mr-4"},[t._v("Phone Number:")])]),r("v-col",{attrs:{cols:"8",sm:"8",md:"8"}},[r("strong",{staticClass:"grey--text"},[t._v(t._s(t.phone))])])],1),r("v-row",{staticClass:"mb-3",attrs:{align:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"4",sm:"4",md:"4"}},[r("strong",{staticClass:"mr-4"},[t._v("Date of Birth:")])]),r("v-col",{attrs:{cols:"8",sm:"8",md:"8"}},[r("strong",{staticClass:"grey--text"},[t._v(t._s(t.dob))])])],1),r("v-row",{staticClass:"mb-3",attrs:{align:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"4",sm:"4",md:"4"}},[r("strong",{staticClass:"mr-4"},[t._v("Address:")])]),r("v-col",{attrs:{cols:"8",sm:"8",md:"8"}},[r("strong",{staticClass:"grey--text"},[t._v(t._s(t.address))])])],1)],1),r("v-card-actions",{staticClass:"flex-column"})],1)],1)],1)],1)},kt=[],Vt={data:function(){return{first_name:"",last_name:"",phone:"",dob:(new Date).toISOString().substr(0,10),address:""}},methods:{editProfile:function(){this.$store.dispatch("setRegisterRedirect",!1),this.$router.push("update-profile")}},mounted:function(){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt.profile();case 3:r=e.sent,r.data.data.length>0&&(a=r.data.data[0],t.first_name=a.first_name,t.last_name=a.last_name,t.phone=a.phone,t.dob=new Date(a.dob).toISOString().substr(0,10),t.address=a.address),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},yt=Vt,Rt=Object(u["a"])(yt,Ct,kt,!1,null,"44173f6d",null),$t=Rt.exports;p()(Rt,{VBtn:v["a"],VCard:z["a"],VCardActions:K["a"],VCardText:K["b"],VCardTitle:K["c"],VCol:Y["a"],VContainer:q["a"],VIcon:m["a"],VRow:Q["a"]});var jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"mx-auto"},[r("v-row",{staticClass:"justify-center",attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[r("v-card",[r("v-card-title",[t._v(" Users "),r("v-spacer"),r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),r("v-data-table",{attrs:{headers:t.headers,items:t.desserts,search:t.search}})],1)],1)],1)],1)},Ot=[],Et=(r("d81d"),{data:function(){return{search:"",headers:[{text:"First Name",align:"start",sortable:!0,value:"first_name"},{text:"Last Name",sortable:!0,value:"last_name"},{text:"Phone",sortable:!1,value:"phone"},{text:"Date of Birth",sortable:!1,value:"dob"},{text:"Address",sortable:!1,value:"address"}],desserts:[]}},methods:{getUsers:function(){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt.users();case 3:r=e.sent,r.data.data.map((function(e){t.desserts.push({first_name:e.first_name,last_name:e.last_name,phone:e.phone,dob:(new Date).toISOString(e.dob).substr(0,10),address:e.address})})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},mounted:function(){this.getUsers()}}),Tt=Et,St=r("8fea"),Pt=Object(u["a"])(Tt,jt,Ot,!1,null,"b7a4935e",null),Lt=Pt.exports;p()(Pt,{VCard:z["a"],VCardTitle:K["c"],VCol:Y["a"],VContainer:q["a"],VDataTable:St["a"],VRow:Q["a"],VSpacer:x["a"],VTextField:W["a"]});var It=function(t,e,r){F.state.isLoggedIn?r("/profile"):r()},At=function(t,e,r){F.state.isLoggedIn?r():r("/login")},Dt=[{path:"/",name:"profile",component:$t,beforeEnter:At},{path:"/register",name:"register",component:Z,beforeEnter:It},{path:"/login",name:"login",component:dt,beforeEnter:It},{path:"/update-profile",name:"update-profile",component:wt,beforeEnter:At},{path:"/profile",name:"profile",component:$t,beforeEnter:At},{path:"/users",name:"users",component:Lt,beforeEnter:At},{path:"*",component:nt}],Bt=r("8c4f");a["a"].use(Bt["a"]);var Ft=new Bt["a"]({routes:Dt,mode:"history"});new a["a"]({vuetify:T,router:Ft,store:F,render:function(t){return t(O)}}).$mount("#app")}});
//# sourceMappingURL=app.267f17b0.js.map